name: Compact Achievements Metrics

on:
    schedule:
        - cron: '0 */24 * * *'
    workflow_dispatch:
    push:
        branches:
            - '**'
    pull_request:

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - uses: lowlighter/metrics@latest
              with:
                  filename: metrics.plugin.achievements.compact.svg
                  token: ${{ secrets.METRIC_TOKEN }}
                  base: ''
                  plugin_achievements: yes
                  plugin_achievements_only: >-
                      polyglot, stargazer, sponsor, deployer, member,
                      maintainer, developer, scripter, packager, explorer,
                      infographile, manager
                  plugin_achievements_display: compact
                  plugin_achievements_threshold: X
                  plugin_achievements_secrets: yes
                  config_timezone: Asia/Kolkata
                  config_colors: 1d2021,fbf1c7,d79921,b16286,689d6a,458588,98971a
