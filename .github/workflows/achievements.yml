name: Compact Achievements Metrics

on:
    workflow_dispatch:

jobs:
    github-metrics:
        runs-on: ubuntu-latest
        steps:
            - name: Generate GitHub metrics
              uses: lowlighter/metrics@latest
              with:
                  filename: metrics.plugin.achievements.compact.svg
                  token: ${{ secrets.METRIC_TOKEN }}
                  base: ''
                  plugin_achievements: yes
                  plugin_achievements_only: >-
                      polyglot, stargazer, sponsor, deployer, member, maintainer, developer,
                      scripter, packager, explorer, infographile, manager
                  plugin_achievements_display: detailed
                  plugin_achievements_threshold: X
